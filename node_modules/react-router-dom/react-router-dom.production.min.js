import{useRef as t,useState as e,useLayoutEffect as r,createElement as n,forwardRef as o,useCallback as a,useMemo as c}from"react";import{createBrowserHistory as i,createHashHistory as u,createPath as l}from"history";import{Router as s,useHref as f,useLocation as h,useResolvedPath as m,useNavigate as p,useBlocker as y}from"react-router";export{MemoryRouter,Navigate,Outlet,Route,Router,Routes,UNSAFE_LocationContext,UNSAFE_NavigatorContext,UNSAFE_RouteContext,createRoutesFromChildren,generatePath,matchPath,matchRoutes,resolvePath,useBlocker,useHref,useInRouterContext,useLocation,useMatch,useNavigate,useOutlet,useParams,useResolvedPath,useRoutes}from"react-router";function d({children:o,window:a}){let c=t();null==c.current&&(c.current=i({window:a}));let u=c.current,[l,f]=e({action:u.action,location:u.location});return r(()=>u.listen(f),[u]),n(s,{children:o,action:l.action,location:l.location,navigator:u})}function g({children:o,window:a}){let c=t();null==c.current&&(c.current=u({window:a}));let i=c.current,[l,f]=e({action:i.action,location:i.location});return r(()=>i.listen(f),[i]),n(s,{children:o,action:l.action,location:l.location,navigator:i})}const v=o((function({onClick:t,replace:e=!1,state:r,target:o,to:a,...c},i){let u=f(a),l=A(a,{replace:e,state:r,target:o});return n("a",{...c,href:u,onClick:function(e){t&&t(e),e.defaultPrevented||l(e)},ref:i,target:o})})),w=o((function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:o=!1,style:a,to:c,...i},u){let l=h(),s=m(c),f=l.pathname,p=s.pathname;e||(f=f.toLowerCase(),p=p.toLowerCase());let y,d=o?f===p:f.startsWith(p),g=d?t:void 0;y="function"==typeof r?r({isActive:d}):[r,d?"active":null].filter(Boolean).join(" ");let w="function"==typeof a?a({isActive:d}):a;return n(v,{...i,"aria-current":g,className:y,ref:u,style:w,to:c})}));function R({message:t,when:e}){return C(t,e),null}function A(t,{target:e,replace:r,state:n}={}){let o=p(),c=h(),i=m(t);return a(a=>{if(!(0!==a.button||e&&"_self"!==e||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(a))){a.preventDefault();let e=!!r||l(c)===l(i);o(t,{replace:e,state:n})}},[c,o,i,r,n,e,t])}function C(t,e=!0){let r=a(e=>{window.confirm(t)&&e.retry()},[t]);y(r,e)}function N(e){let r=t(P(e)),n=h(),o=c(()=>{let t=P(n.search);for(let e of r.current.keys())t.has(e)||r.current.getAll(e).forEach(r=>{t.append(e,r)});return t},[n.search]),i=p();return[o,a((t,e)=>{i("?"+P(t),e)},[i])]}function P(t=""){return new URLSearchParams("string"==typeof t||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(t=>[r,t]):[[r,n]])},[]))}export{d as BrowserRouter,g as HashRouter,v as Link,w as NavLink,R as Prompt,P as createSearchParams,A as useLinkClickHandler,C as usePrompt,N as useSearchParams};
//# sourceMappingURL=react-router-dom.production.min.js.map
